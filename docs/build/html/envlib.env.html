<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>envlib.env package &mdash; env_setup_v2 v0.0.2 文档</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/translations.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="搜索" href="search.html" />
    <link rel="next" title="envlib.env_resources package" href="envlib.env_resources.html" />
    <link rel="prev" title="envlib package" href="envlib.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> env_setup_v2
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="在文档中搜索" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html#id1">1. 项目简介</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html#id5">2. 主要库</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html#id10">3. 提交说明</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">envlib</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="envlib.html">envlib package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="envlib.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">envlib.env package</a></li>
<li class="toctree-l4"><a class="reference internal" href="envlib.env_resources.html">envlib.env_resources package</a></li>
<li class="toctree-l4"><a class="reference internal" href="envlib.envsetup.html">envlib.envsetup package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="envlib.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="envlib.html#module-envlib.database">envlib.database module</a></li>
<li class="toctree-l3"><a class="reference internal" href="envlib.html#module-envlib.id_info">envlib.id_info module</a></li>
<li class="toctree-l3"><a class="reference internal" href="envlib.html#module-envlib.rest">envlib.rest module</a></li>
<li class="toctree-l3"><a class="reference internal" href="envlib.html#module-envlib.smb">envlib.smb module</a></li>
<li class="toctree-l3"><a class="reference internal" href="envlib.html#module-envlib.ssh">envlib.ssh module</a></li>
<li class="toctree-l3"><a class="reference internal" href="envlib.html#module-envlib.threadings">envlib.threadings module</a></li>
<li class="toctree-l3"><a class="reference internal" href="envlib.html#module-envlib.util">envlib.util module</a></li>
<li class="toctree-l3"><a class="reference internal" href="envlib.html#module-envlib">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">env_setup_v2</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="modules.html">envlib</a> &raquo;</li>
          <li><a href="envlib.html">envlib package</a> &raquo;</li>
      <li>envlib.env package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/envlib.env.rst.txt" rel="nofollow"> 查看页面源码</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="envlib-env-package">
<h1>envlib.env package<a class="headerlink" href="#envlib-env-package" title="永久链接至标题"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="永久链接至标题"></a></h2>
</section>
<section id="module-envlib.env.app">
<span id="envlib-env-app-module"></span><h2>envlib.env.app module<a class="headerlink" href="#module-envlib.env.app" title="永久链接至标题"></a></h2>
<section id="envlib-app">
<h3>envlib.app<a class="headerlink" href="#envlib-app" title="永久链接至标题"></a></h3>
<p>实用应用程序集合</p>
<dl class="py function">
<dt class="sig sig-object py" id="envlib.env.app._assure_keys_in_request_parameters">
<span class="sig-prename descclassname"><span class="pre">envlib.env.app.</span></span><span class="sig-name descname"><span class="pre">_assure_keys_in_request_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key_set</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">set</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/app.html#_assure_keys_in_request_parameters"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.app._assure_keys_in_request_parameters" title="永久链接至目标"></a></dt>
<dd><p>检查传入的key_set是允许的options</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><p><strong>key_set</strong> – set: 请求参数集合</p>
</dd>
</dl>
<div class="admonition tip">
<p class="admonition-title">小技巧</p>
<p>允许的options有:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;method&#39;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="p">,</span> <span class="s1">&#39;params&#39;</span><span class="p">,</span> <span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="s1">&#39;headers&#39;</span><span class="p">,</span> <span class="s1">&#39;cookies&#39;</span><span class="p">,</span> <span class="s1">&#39;files&#39;</span><span class="p">,</span> <span class="s1">&#39;auth&#39;</span><span class="p">,</span> <span class="s1">&#39;timeout&#39;</span><span class="p">,</span>
<span class="s1">&#39;allow_redirects&#39;</span><span class="p">,</span> <span class="s1">&#39;proxies&#39;</span><span class="p">,</span> <span class="s1">&#39;hooks&#39;</span><span class="p">,</span> <span class="s1">&#39;stream&#39;</span><span class="p">,</span> <span class="s1">&#39;verify&#39;</span><span class="p">,</span> <span class="s1">&#39;cert&#39;</span><span class="p">,</span> <span class="s1">&#39;json&#39;</span>
</pre></div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">返回</dt>
<dd class="field-odd"><p>Bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="envlib.env.app.Env">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">envlib.env.app.</span></span><span class="sig-name descname"><span class="pre">Env</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">port</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/app.html#Env"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.app.Env" title="永久链接至目标"></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>运行环境类，只有用户+端口不同的才创建新的实例</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.app.Env._instance_lock">
<span class="sig-name descname"><span class="pre">_instance_lock</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;unlocked</span> <span class="pre">_thread.lock</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#envlib.env.app.Env._instance_lock" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.app.Env.debug">
<span class="sig-name descname"><span class="pre">debug</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#envlib.env.app.Env.debug" title="永久链接至目标"></a></dt>
<dd><p>The debug flag.  Set this to <cite>True</cite> to enable debugging of the
application.  In debug mode the debugger will kick in when an unhandled
exception ocurrs and the integrated server will automatically reload
the application if changes in the code are detected.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.app.Env.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">port</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/app.html#Env.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.app.Env.__init__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.app.Env.port">
<span class="sig-name descname"><span class="pre">port</span></span><a class="headerlink" href="#envlib.env.app.Env.port" title="永久链接至目标"></a></dt>
<dd><p>平台port, 如’8000’</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.app.Env.user">
<span class="sig-name descname"><span class="pre">user</span></span><a class="headerlink" href="#envlib.env.app.Env.user" title="永久链接至目标"></a></dt>
<dd><p>登陆用户</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.app.Env.password">
<span class="sig-name descname"><span class="pre">password</span></span><a class="headerlink" href="#envlib.env.app.Env.password" title="永久链接至目标"></a></dt>
<dd><p>登陆密码</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.app.Env.rest">
<span class="sig-name descname"><span class="pre">rest</span></span><a class="headerlink" href="#envlib.env.app.Env.rest" title="永久链接至目标"></a></dt>
<dd><p>当前的Rest实例</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.app.Env.ssh">
<span class="sig-name descname"><span class="pre">ssh</span></span><a class="headerlink" href="#envlib.env.app.Env.ssh" title="永久链接至目标"></a></dt>
<dd><p>初始化SSH连接为集群的业务虚ip</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.app.Env.pgsql">
<span class="sig-name descname"><span class="pre">pgsql</span></span><a class="headerlink" href="#envlib.env.app.Env.pgsql" title="永久链接至目标"></a></dt>
<dd><p>初始化pgsql连接</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.app.Env.vertica">
<span class="sig-name descname"><span class="pre">vertica</span></span><a class="headerlink" href="#envlib.env.app.Env.vertica" title="永久链接至目标"></a></dt>
<dd><p>初始化pgsql连接</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.app.Env.smb">
<span class="sig-name descname"><span class="pre">smb</span></span><a class="headerlink" href="#envlib.env.app.Env.smb" title="永久链接至目标"></a></dt>
<dd><p>初始化smb client连接</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.app.Env.config">
<span class="sig-name descname"><span class="pre">config</span></span><a class="headerlink" href="#envlib.env.app.Env.config" title="永久链接至目标"></a></dt>
<dd><p>预留config设置模式选项</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.app.Env.extensions">
<span class="sig-name descname"><span class="pre">extensions</span></span><a class="headerlink" href="#envlib.env.app.Env.extensions" title="永久链接至目标"></a></dt>
<dd><p>预留扩展模块</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="envlib.env.app.Env.current_context">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">current_context</span></span><a class="headerlink" href="#envlib.env.app.Env.current_context" title="永久链接至目标"></a></dt>
<dd><p>返回当前环境上下文实例</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.app.Env._get_restful_response">
<span class="sig-name descname"><span class="pre">_get_restful_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/app.html#Env._get_restful_response"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.app.Env._get_restful_response" title="永久链接至目标"></a></dt>
<dd><p>对restful接口的返回值，做状态判断，并尝试以json形式返回</p>
<div class="admonition tip">
<p class="admonition-title">小技巧</p>
<p>新接口有标准的接口规范，response示例 {“error_code”:”0000000000”, “message”:”XXX处理成功”, “data”: {业务自定义json格式}}
使用老接口时有warning信息, 新接口将自动提取data</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><p><strong>**options</strong> – 可选’method’, ‘url’, ‘params’, ‘data’, ‘headers’, ‘cookies’, ‘files’, ‘auth’, ‘timeout’,
‘allow_redirects’, ‘proxies’, ‘hooks’, ‘stream’, ‘verify’, ‘cert’, ‘json’</p>
</dd>
<dt class="field-even">关键字参数</dt>
<dd class="field-even"><p><strong>check</strong> – 是否强制断言接口返回值为[200, 201, 204]状态之一，默认开启，强制校验接口返回若非2XX状态，程序会有中断</p>
</dd>
<dt class="field-odd">返回</dt>
<dd class="field-odd"><p>content or data json, 接口返回
新接口将自动提取data json片断</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.app.Env.send_by_rest">
<span class="sig-name descname"><span class="pre">send_by_rest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/app.html#Env.send_by_rest"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.app.Env.send_by_rest" title="永久链接至目标"></a></dt>
<dd><p>rest请求封装</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<em>str</em>) – url, <a class="reference external" href="mailto:'api&#37;&#52;&#48;options">‘api<span>&#64;</span>options</a>’形式, 如’<a class="reference external" href="mailto:/api/demo&#37;&#52;&#48;get">/api/demo<span>&#64;</span>get</a>’</p></li>
<li><p><strong>**kwargs</strong> – 可选’method’, ‘url’, ‘params’, ‘data’, ‘headers’, ‘cookies’, ‘files’, ‘auth’, ‘timeout’,
‘allow_redirects’, ‘proxies’, ‘hooks’, ‘stream’, ‘verify’, ‘cert’, ‘json’</p></li>
</ul>
</dd>
<dt class="field-even">关键字参数</dt>
<dd class="field-even"><p><strong>check</strong> – 是否强制断言接口返回值为[200, 201, 204]状态之一，默认开启，强制校验接口返回若非2XX状态，程序会有中断</p>
</dd>
<dt class="field-odd">返回</dt>
<dd class="field-odd"><p>接口返回内容content的data，兼容新老接口，新接口将自动提取 <em>data</em> ，老接口会有warning提示，返回原 <em>content</em></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.app.Env.bind_to_g">
<span class="sig-name descname"><span class="pre">bind_to_g</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lock</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/app.html#Env.bind_to_g"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.app.Env.bind_to_g" title="永久链接至目标"></a></dt>
<dd><p>绑定单个value到环境变量，以key,value的形式绑定到当前运行的Env实例关联的上下文环境信息AppCtxGlobals实例的代理 <code class="docutils literal notranslate"><span class="pre">g</span></code></p>
<p>适用于循环/批量处理值的绑定</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – key</p></li>
<li><p><strong>value</strong> – 待绑定的value</p></li>
<li><p><strong>lock</strong> – 是否加锁，加锁且值存在，将不修改原值</p></li>
</ul>
</dd>
<dt class="field-even">返回</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.app.Env.smb_upload_excel">
<span class="sig-name descname"><span class="pre">smb_upload_excel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_relative_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'application/vnd.ms-excel'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/app.html#Env.smb_upload_excel"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.app.Env.smb_upload_excel" title="永久链接至目标"></a></dt>
<dd><p>SMB连接上传excel</p>
<p>smb远程读文件转化为multipart/form-data请求所需的data 和 header</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<em>str</em>) – 文件名</p></li>
<li><p><strong>file_relative_path</strong> (<em>str</em>) – 相对远程目录，根目录为env.ini文件中的smb_share <code class="docutils literal notranslate"><span class="pre">\\1.1.1.1\info\auto\</span></code></p></li>
<li><p><strong>file_type</strong> (<em>str</em>) – <p>文件类型，默认为excel类型，’application/vnd.ms-excel’
可能用到的例如，具体可抓包查找</p>
<p>’doc[x]’   :  ‘application/msword’</p>
<p>’xls[x]’   :  ‘application/vnd.ms-excel’</p>
<p>’zip’      :  ‘application/zip’</p>
<p>’jpeg|jpg’:  ‘image/jpeg’</p>
<p>’png’      :  ‘image/png’</p>
</p></li>
<li><p><strong>**kwargs</strong> – <p>可选参数，以字典形式传入
用来表示除了’file’: file_tuple，以外的其他参数</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">MultipartEncoder</span><span class="p">(</span>
    <span class="n">fields</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;file&#39;</span><span class="p">:</span> <span class="n">file_tuple</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
</p></li>
</ul>
</dd>
<dt class="field-even">返回</dt>
<dd class="field-even"><p>data, headers</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.app.Env.smb_upload_zip">
<span class="sig-name descname"><span class="pre">smb_upload_zip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_relative_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'application/x-zip-compressed'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/app.html#Env.smb_upload_zip"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.app.Env.smb_upload_zip" title="永久链接至目标"></a></dt>
<dd><p>SMB连接上传zip文件，需要额外传入tab_id=tab_id</p>
<p>smb远程读文件转化为multipart/form-data请求所需的data 和 header</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<em>str</em>) – 文件名</p></li>
<li><p><strong>file_relative_path</strong> (<em>str</em>) – 相对远程目录，根目录为env.ini文件中的smb_share <code class="docutils literal notranslate"><span class="pre">\\1.1.1.1\info\auto\</span></code></p></li>
<li><p><strong>file_type</strong> (<em>str</em>) – <p>文件类型，默认为excel类型，’application/vnd.ms-excel’
可能用到的例如，具体可抓包查找</p>
<p>’doc[x]’   :  ‘application/msword’</p>
<p>’xls[x]’   :  ‘application/vnd.ms-excel’</p>
<p>’zip’      :  ‘application/zip’</p>
<p>’jpeg|jpg’:  ‘image/jpeg’</p>
<p>’png’      :  ‘image/png’</p>
</p></li>
<li><p><strong>**kwargs</strong> – <p>可选参数，以字典形式传入, ‘tab_id’: tab_id
用来表示除了’file’: file_tuple，以外的其他参数</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">MultipartEncoder</span><span class="p">(</span>
    <span class="n">fields</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;file&#39;</span><span class="p">:</span> <span class="n">file_tuple</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
</p></li>
</ul>
</dd>
<dt class="field-even">返回</dt>
<dd class="field-even"><p>data, headers</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.app.Env.smb_upload_jpg">
<span class="sig-name descname"><span class="pre">smb_upload_jpg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_relative_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'image/jpeg'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/app.html#Env.smb_upload_jpg"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.app.Env.smb_upload_jpg" title="永久链接至目标"></a></dt>
<dd><p>SMB连接上传jpg,jpeg文件</p>
<p>smb远程读文件转化为multipart/form-data请求所需的data 和 header</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<em>str</em>) – 文件名</p></li>
<li><p><strong>file_relative_path</strong> (<em>str</em>) – 相对远程目录，根目录为env.ini文件中的smb_share <code class="docutils literal notranslate"><span class="pre">\\1.1.1.1\info\auto\</span></code></p></li>
<li><p><strong>file_type</strong> (<em>str</em>) – <p>文件类型，默认为excel类型，’application/vnd.ms-excel’
可能用到的例如，具体可抓包查找</p>
<p>’doc[x]’   :  ‘application/msword’</p>
<p>’xls[x]’   :  ‘application/vnd.ms-excel’</p>
<p>’zip’      :  ‘application/zip’</p>
<p>’jpeg|jpg’:  ‘image/jpeg’</p>
<p>’png’      :  ‘image/png’</p>
</p></li>
<li><p><strong>**kwargs</strong> – <p>可选参数，以字典形式传入
用来表示除了’file’: file_tuple，以外的其他参数</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">MultipartEncoder</span><span class="p">(</span>
    <span class="n">fields</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;file&#39;</span><span class="p">:</span> <span class="n">file_tuple</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
</p></li>
</ul>
</dd>
<dt class="field-even">返回</dt>
<dd class="field-even"><p>data, headers</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.app.Env.smb_get_base64">
<span class="sig-name descname"><span class="pre">smb_get_base64</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_relative_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/app.html#Env.smb_get_base64"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.app.Env.smb_get_base64" title="永久链接至目标"></a></dt>
<dd><p>SMB读取远端图片数据路径，并返回base64</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<em>str</em>) – 文件名</p></li>
<li><p><strong>file_relative_path</strong> (<em>str</em>) – 相对远程目录，根目录为env.ini文件中的smb_share <code class="docutils literal notranslate"><span class="pre">\\1.1.1.1\info\auto\</span></code></p></li>
</ul>
</dd>
<dt class="field-even">返回</dt>
<dd class="field-even"><p>(str) base64编码</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.app.Env._rest_login">
<span class="sig-name descname"><span class="pre">_rest_login</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rest</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">begin_url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">username</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/app.html#Env._rest_login"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.app.Env._rest_login" title="永久链接至目标"></a></dt>
<dd><p>会话登录, 保存session, cookies</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rest</strong> (<em>str</em>) – 需要登录的会话</p></li>
<li><p><strong>begin_url</strong> (<em>str</em>) – 登录初始url</p></li>
<li><p><strong>username</strong> (<em>str</em>) – 登录用户名</p></li>
<li><p><strong>password</strong> (<em>str</em>) – 登录密码</p></li>
</ul>
</dd>
<dt class="field-even">返回</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.app.Env._re_login">
<span class="sig-name descname"><span class="pre">_re_login</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/app.html#Env._re_login"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.app.Env._re_login" title="永久链接至目标"></a></dt>
<dd><p>重新登陆rest会话</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.app.Env._fetch_appropriate_rest">
<span class="sig-name descname"><span class="pre">_fetch_appropriate_rest</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/app.html#Env._fetch_appropriate_rest"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.app.Env._fetch_appropriate_rest" title="永久链接至目标"></a></dt>
<dd><p>从单例Rest实例池获取缓存的实例，否则新建</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.app.Env._headers">
<span class="sig-name descname"><span class="pre">_headers</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/app.html#Env._headers"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.app.Env._headers" title="永久链接至目标"></a></dt>
<dd><p>登录后的的header</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.app.Env.push_context">
<span class="sig-name descname"><span class="pre">push_context</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/app.html#Env.push_context"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.app.Env.push_context" title="永久链接至目标"></a></dt>
<dd><p>调用方式触发上下文</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.app.Env.pop_context">
<span class="sig-name descname"><span class="pre">pop_context</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/app.html#Env.pop_context"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.app.Env.pop_context" title="永久链接至目标"></a></dt>
<dd><p>调用方式弹出上下文</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.app.Env.__enter__">
<span class="sig-name descname"><span class="pre">__enter__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/app.html#Env.__enter__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.app.Env.__enter__" title="永久链接至目标"></a></dt>
<dd><p>with方式触发上下文</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.app.Env.__exit__">
<span class="sig-name descname"><span class="pre">__exit__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exc_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exc_val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exc_tb</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/app.html#Env.__exit__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.app.Env.__exit__" title="永久链接至目标"></a></dt>
<dd><p>自动释放上下文</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.app.Env.__new__">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">__new__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cls</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/app.html#Env.__new__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.app.Env.__new__" title="永久链接至目标"></a></dt>
<dd><p>基于元类的实例产生</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.app.Env.__module__">
<span class="sig-name descname"><span class="pre">__module__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'envlib.env.app'</span></em><a class="headerlink" href="#envlib.env.app.Env.__module__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.app.Env.__weakref__">
<span class="sig-name descname"><span class="pre">__weakref__</span></span><a class="headerlink" href="#envlib.env.app.Env.__weakref__" title="永久链接至目标"></a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="module-envlib.env.config">
<span id="envlib-env-config-module"></span><h2>envlib.env.config module<a class="headerlink" href="#module-envlib.env.config" title="永久链接至标题"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="envlib.env.config.ConfigAttribute">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">envlib.env.config.</span></span><span class="sig-name descname"><span class="pre">ConfigAttribute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/config.html#ConfigAttribute"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.config.ConfigAttribute" title="永久链接至目标"></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Makes an attribute forward to the config</p>
<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.config.ConfigAttribute.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/config.html#ConfigAttribute.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.config.ConfigAttribute.__init__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.config.ConfigAttribute.__get__">
<span class="sig-name descname"><span class="pre">__get__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/config.html#ConfigAttribute.__get__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.config.ConfigAttribute.__get__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.config.ConfigAttribute.__set__">
<span class="sig-name descname"><span class="pre">__set__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/config.html#ConfigAttribute.__set__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.config.ConfigAttribute.__set__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.config.ConfigAttribute.__module__">
<span class="sig-name descname"><span class="pre">__module__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'envlib.env.config'</span></em><a class="headerlink" href="#envlib.env.config.ConfigAttribute.__module__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.config.ConfigAttribute.__weakref__">
<span class="sig-name descname"><span class="pre">__weakref__</span></span><a class="headerlink" href="#envlib.env.config.ConfigAttribute.__weakref__" title="永久链接至目标"></a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="envlib.env.config.Config">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">envlib.env.config.</span></span><span class="sig-name descname"><span class="pre">Config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">defaults</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/config.html#Config"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.config.Config" title="永久链接至目标"></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>Works exactly like a dict but provides ways to fill it from files
or special dictionaries.  There are two common patterns to populate the
config.</p>
<p>Either you can fill the config from a config file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">DEBUG</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.config.Config.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">defaults</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/config.html#Config.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.config.Config.__init__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.config.Config.__repr__">
<span class="sig-name descname"><span class="pre">__repr__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/config.html#Config.__repr__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.config.Config.__repr__" title="永久链接至目标"></a></dt>
<dd><p>Return repr(self).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.config.Config.__module__">
<span class="sig-name descname"><span class="pre">__module__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'envlib.env.config'</span></em><a class="headerlink" href="#envlib.env.config.Config.__module__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.config.Config.__weakref__">
<span class="sig-name descname"><span class="pre">__weakref__</span></span><a class="headerlink" href="#envlib.env.config.Config.__weakref__" title="永久链接至目标"></a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-envlib.env.ctx">
<span id="envlib-env-ctx-module"></span><h2>envlib.env.ctx module<a class="headerlink" href="#module-envlib.env.ctx" title="永久链接至标题"></a></h2>
<p>上下文管理</p>
<dl class="py class">
<dt class="sig sig-object py" id="envlib.env.ctx.AppCtxGlobals">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">envlib.env.ctx.</span></span><span class="sig-name descname"><span class="pre">AppCtxGlobals</span></span><a class="reference internal" href="_modules/envlib/env/ctx.html#AppCtxGlobals"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.ctx.AppCtxGlobals" title="永久链接至目标"></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A plain object. Used as a namespace for storing data during an
application context.</p>
<p>Creating an app context automatically creates this object, which is
made available as the <code class="xref py py-data docutils literal notranslate"><span class="pre">g</span></code> proxy.</p>
<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">'key'</span> <span class="pre">in</span> <span class="pre">g</span></span></dt>
<dd><p>Check whether an attribute is present.</p>
</dd></dl>

<dl class="describe">
<dt class="sig sig-object">
<span class="sig-name descname"><span class="pre">iter(g)</span></span></dt>
<dd><p>Return an iterator over the attribute names.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.ctx.AppCtxGlobals.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/ctx.html#AppCtxGlobals.get"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.ctx.AppCtxGlobals.get" title="永久链接至目标"></a></dt>
<dd><p>Get an attribute by name, or a default value. Like
<code class="xref py py-meth docutils literal notranslate"><span class="pre">dict.get()</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – Name of attribute to get.</p></li>
<li><p><strong>default</strong> – Value to return if the attribute is not present.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.ctx.AppCtxGlobals.pop">
<span class="sig-name descname"><span class="pre">pop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default=&lt;object</span> <span class="pre">object&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/ctx.html#AppCtxGlobals.pop"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.ctx.AppCtxGlobals.pop" title="永久链接至目标"></a></dt>
<dd><p>Get and remove an attribute by name. Like <code class="xref py py-meth docutils literal notranslate"><span class="pre">dict.pop()</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – Name of attribute to pop.</p></li>
<li><p><strong>default</strong> – Value to return if the attribute is not present,
instead of raise a <code class="docutils literal notranslate"><span class="pre">KeyError</span></code>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.ctx.AppCtxGlobals.setdefault">
<span class="sig-name descname"><span class="pre">setdefault</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/ctx.html#AppCtxGlobals.setdefault"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.ctx.AppCtxGlobals.setdefault" title="永久链接至目标"></a></dt>
<dd><p>Get the value of an attribute if it is present, otherwise
set and return a default value. Like <code class="xref py py-meth docutils literal notranslate"><span class="pre">dict.setdefault()</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><p><strong>name</strong> – Name of attribute to get.</p>
</dd>
<dt class="field-even">Param</dt>
<dd class="field-even"><p>default: Value to set and return if the attribute is not
present.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.ctx.AppCtxGlobals.__contains__">
<span class="sig-name descname"><span class="pre">__contains__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/ctx.html#AppCtxGlobals.__contains__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.ctx.AppCtxGlobals.__contains__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.ctx.AppCtxGlobals.getk">
<span class="sig-name descname"><span class="pre">getk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/ctx.html#AppCtxGlobals.getk"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.ctx.AppCtxGlobals.getk" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.ctx.AppCtxGlobals.__iter__">
<span class="sig-name descname"><span class="pre">__iter__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/ctx.html#AppCtxGlobals.__iter__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.ctx.AppCtxGlobals.__iter__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.ctx.AppCtxGlobals.__module__">
<span class="sig-name descname"><span class="pre">__module__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'envlib.env.ctx'</span></em><a class="headerlink" href="#envlib.env.ctx.AppCtxGlobals.__module__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.ctx.AppCtxGlobals.__weakref__">
<span class="sig-name descname"><span class="pre">__weakref__</span></span><a class="headerlink" href="#envlib.env.ctx.AppCtxGlobals.__weakref__" title="永久链接至目标"></a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="envlib.env.ctx.TagCtxGlobals">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">envlib.env.ctx.</span></span><span class="sig-name descname"><span class="pre">TagCtxGlobals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/ctx.html#TagCtxGlobals"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.ctx.TagCtxGlobals" title="永久链接至目标"></a></dt>
<dd><p>基类：<a class="reference internal" href="#envlib.env.helpers.HelpersMixin" title="envlib.env.helpers.HelpersMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">envlib.env.helpers.HelpersMixin</span></code></a>, <a class="reference internal" href="#envlib.env.helpers.ExtractingMixin" title="envlib.env.helpers.ExtractingMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">envlib.env.helpers.ExtractingMixin</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.ctx.TagCtxGlobals.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/ctx.html#TagCtxGlobals.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.ctx.TagCtxGlobals.__init__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.ctx.TagCtxGlobals._builder">
<span class="sig-name descname"><span class="pre">_builder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/ctx.html#TagCtxGlobals._builder"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.ctx.TagCtxGlobals._builder" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.ctx.TagCtxGlobals.__repr__">
<span class="sig-name descname"><span class="pre">__repr__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/ctx.html#TagCtxGlobals.__repr__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.ctx.TagCtxGlobals.__repr__" title="永久链接至目标"></a></dt>
<dd><p>Return repr(self).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.ctx.TagCtxGlobals.__module__">
<span class="sig-name descname"><span class="pre">__module__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'envlib.env.ctx'</span></em><a class="headerlink" href="#envlib.env.ctx.TagCtxGlobals.__module__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="envlib.env.ctx.EnvContext">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">envlib.env.ctx.</span></span><span class="sig-name descname"><span class="pre">EnvContext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">app</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">g</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/ctx.html#EnvContext"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.ctx.EnvContext" title="永久链接至目标"></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.ctx.EnvContext.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">app</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">g</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/ctx.html#EnvContext.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.ctx.EnvContext.__init__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.ctx.EnvContext.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/ctx.html#EnvContext.copy"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.ctx.EnvContext.copy" title="永久链接至目标"></a></dt>
<dd><p>Creates a copy of this request context with the same request object.
This can be used to move a request context to a different greenlet.
Because the actual request object is the same this cannot be used to
move a request context to a different thread unless access to the
request object is locked.</p>
<div class="versionadded">
<p><span class="versionmodified added">0.10 新版功能.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 1.1 版更改: </span>The current session object is used instead of reloading the original
data. This prevents <cite>flask.session</cite> pointing to an out-of-date object.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.ctx.EnvContext.push">
<span class="sig-name descname"><span class="pre">push</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/ctx.html#EnvContext.push"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.ctx.EnvContext.push" title="永久链接至目标"></a></dt>
<dd><p>绑定Env实例及其运行环境g</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.ctx.EnvContext.pop">
<span class="sig-name descname"><span class="pre">pop</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/ctx.html#EnvContext.pop"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.ctx.EnvContext.pop" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.ctx.EnvContext.__enter__">
<span class="sig-name descname"><span class="pre">__enter__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/ctx.html#EnvContext.__enter__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.ctx.EnvContext.__enter__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.ctx.EnvContext.__exit__">
<span class="sig-name descname"><span class="pre">__exit__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exc_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exc_value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tb</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/ctx.html#EnvContext.__exit__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.ctx.EnvContext.__exit__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.ctx.EnvContext.__module__">
<span class="sig-name descname"><span class="pre">__module__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'envlib.env.ctx'</span></em><a class="headerlink" href="#envlib.env.ctx.EnvContext.__module__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.ctx.EnvContext.__weakref__">
<span class="sig-name descname"><span class="pre">__weakref__</span></span><a class="headerlink" href="#envlib.env.ctx.EnvContext.__weakref__" title="永久链接至目标"></a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-envlib.env.datastructures">
<span id="envlib-env-datastructures-module"></span><h2>envlib.env.datastructures module<a class="headerlink" href="#module-envlib.env.datastructures" title="永久链接至标题"></a></h2>
<section id="werkzeug-datastructures">
<h3>werkzeug.datastructures<a class="headerlink" href="#werkzeug-datastructures" title="永久链接至标题"></a></h3>
<p>This module provides mixins and classes with an immutable interface.
一些扩展的数据结构，如MultiDict, ImmutableDict等</p>
<dl class="field-list simple">
<dt class="field-odd">copyright</dt>
<dd class="field-odd"><p>2007 Pallets</p>
</dd>
<dt class="field-even">license</dt>
<dd class="field-even"><p>BSD-3-Clause</p>
</dd>
</dl>
<dl class="py function">
<dt class="sig sig-object py" id="envlib.env.datastructures.native_itermethods">
<span class="sig-prename descclassname"><span class="pre">envlib.env.datastructures.</span></span><span class="sig-name descname"><span class="pre">native_itermethods</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">names</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#native_itermethods"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.native_itermethods" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="envlib.env.datastructures.iter_multi_items">
<span class="sig-prename descclassname"><span class="pre">envlib.env.datastructures.</span></span><span class="sig-name descname"><span class="pre">iter_multi_items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mapping</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#iter_multi_items"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.iter_multi_items" title="永久链接至目标"></a></dt>
<dd><p>Iterates over the items of a mapping yielding keys and values
without dropping any from more complex structures.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="envlib.env.datastructures.is_immutable">
<span class="sig-prename descclassname"><span class="pre">envlib.env.datastructures.</span></span><span class="sig-name descname"><span class="pre">is_immutable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#is_immutable"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.is_immutable" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="envlib.env.datastructures.ViewItems">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">envlib.env.datastructures.</span></span><span class="sig-name descname"><span class="pre">ViewItems</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">multi_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repr_name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#ViewItems"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.ViewItems" title="永久链接至目标"></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.ViewItems.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">multi_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repr_name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#ViewItems.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.ViewItems.__init__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.ViewItems.__get_items">
<span class="sig-name descname"><span class="pre">__get_items</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.datastructures.ViewItems.__get_items" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.ViewItems.__repr__">
<span class="sig-name descname"><span class="pre">__repr__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#ViewItems.__repr__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.ViewItems.__repr__" title="永久链接至目标"></a></dt>
<dd><p>Return repr(self).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.ViewItems.__iter__">
<span class="sig-name descname"><span class="pre">__iter__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#ViewItems.__iter__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.ViewItems.__iter__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.datastructures.ViewItems.__module__">
<span class="sig-name descname"><span class="pre">__module__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'envlib.env.datastructures'</span></em><a class="headerlink" href="#envlib.env.datastructures.ViewItems.__module__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.datastructures.ViewItems.__weakref__">
<span class="sig-name descname"><span class="pre">__weakref__</span></span><a class="headerlink" href="#envlib.env.datastructures.ViewItems.__weakref__" title="永久链接至目标"></a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="envlib.env.datastructures.TypeConversionDict">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">envlib.env.datastructures.</span></span><span class="sig-name descname"><span class="pre">TypeConversionDict</span></span><a class="reference internal" href="_modules/envlib/env/datastructures.html#TypeConversionDict"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.TypeConversionDict" title="永久链接至目标"></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>Works like a regular dict but the <a class="reference internal" href="#envlib.env.datastructures.TypeConversionDict.get" title="envlib.env.datastructures.TypeConversionDict.get"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get()</span></code></a> method can perform
type conversions.  <a class="reference internal" href="#envlib.env.datastructures.MultiDict" title="envlib.env.datastructures.MultiDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiDict</span></code></a> and <code class="xref py py-class docutils literal notranslate"><span class="pre">CombinedMultiDict</span></code>
are subclasses of this class and provide the same feature.</p>
<div class="versionadded">
<p><span class="versionmodified added">0.5 新版功能.</span></p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.TypeConversionDict.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#TypeConversionDict.get"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.TypeConversionDict.get" title="永久链接至目标"></a></dt>
<dd><p>Return the default value if the requested data doesn’t exist.
If <cite>type</cite> is provided and is a callable it should convert the value,
return it or raise a <code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code> if that is not possible.  In
this case the function will return the default as if the value was not
found:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">TypeConversionDict</span><span class="p">(</span><span class="n">foo</span><span class="o">=</span><span class="s1">&#39;42&#39;</span><span class="p">,</span> <span class="n">bar</span><span class="o">=</span><span class="s1">&#39;blub&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
<span class="go">42</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
<span class="go">-1</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – The key to be looked up.</p></li>
<li><p><strong>default</strong> – The default value to be returned if the key can’t
be looked up.  If not further specified <cite>None</cite> is
returned.</p></li>
<li><p><strong>type</strong> – A callable that is used to cast the value in the
<a class="reference internal" href="#envlib.env.datastructures.MultiDict" title="envlib.env.datastructures.MultiDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiDict</span></code></a>.  If a <code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code> is raised
by this callable the default value is returned.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.datastructures.TypeConversionDict.__module__">
<span class="sig-name descname"><span class="pre">__module__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'envlib.env.datastructures'</span></em><a class="headerlink" href="#envlib.env.datastructures.TypeConversionDict.__module__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.datastructures.TypeConversionDict.__weakref__">
<span class="sig-name descname"><span class="pre">__weakref__</span></span><a class="headerlink" href="#envlib.env.datastructures.TypeConversionDict.__weakref__" title="永久链接至目标"></a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="envlib.env.datastructures.MultiDict">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">envlib.env.datastructures.</span></span><span class="sig-name descname"><span class="pre">MultiDict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mapping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#MultiDict"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.MultiDict" title="永久链接至目标"></a></dt>
<dd><p>基类：<a class="reference internal" href="#envlib.env.datastructures.TypeConversionDict" title="envlib.env.datastructures.TypeConversionDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">envlib.env.datastructures.TypeConversionDict</span></code></a></p>
<p>A <a class="reference internal" href="#envlib.env.datastructures.MultiDict" title="envlib.env.datastructures.MultiDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiDict</span></code></a> is a dictionary subclass customized to deal with
multiple values for the same key which is for example used by the parsing
functions in the wrappers.  This is necessary because some HTML form
elements pass multiple values for the same key.</p>
<p><a class="reference internal" href="#envlib.env.datastructures.MultiDict" title="envlib.env.datastructures.MultiDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiDict</span></code></a> implements all standard dictionary methods.
Internally, it saves all values for a key as a list, but the standard dict
access methods will only return the first value for a key. If you want to
gain access to the other values, too, you have to use the <cite>list</cite> methods as
explained below.</p>
<p>Basic Usage:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">MultiDict</span><span class="p">([(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span>
<span class="go">MultiDict([(&#39;a&#39;, &#39;b&#39;), (&#39;a&#39;, &#39;c&#39;)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span>
<span class="go">&#39;b&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">getlist</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="go">[&#39;b&#39;, &#39;c&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;a&#39;</span> <span class="ow">in</span> <span class="n">d</span>
<span class="go">True</span>
</pre></div>
</div>
<p>It behaves like a normal dict thus all dict functions will only return the
first value when multiple values for one key are found.</p>
<p>From Werkzeug 0.3 onwards, the <cite>KeyError</cite> raised by this class is also a
subclass of the <code class="xref py py-exc docutils literal notranslate"><span class="pre">BadRequest</span></code> HTTP exception and will
render a page for a <code class="docutils literal notranslate"><span class="pre">400</span> <span class="pre">BAD</span> <span class="pre">REQUEST</span></code> if caught in a catch-all for HTTP
exceptions.</p>
<p>A <a class="reference internal" href="#envlib.env.datastructures.MultiDict" title="envlib.env.datastructures.MultiDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiDict</span></code></a> can be constructed from an iterable of
<code class="docutils literal notranslate"><span class="pre">(key,</span> <span class="pre">value)</span></code> tuples, a dict, a <a class="reference internal" href="#envlib.env.datastructures.MultiDict" title="envlib.env.datastructures.MultiDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiDict</span></code></a> or from Werkzeug 0.2
onwards some keyword parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><p><strong>mapping</strong> – the initial value for the <a class="reference internal" href="#envlib.env.datastructures.MultiDict" title="envlib.env.datastructures.MultiDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiDict</span></code></a>.  Either a
regular dict, an iterable of <code class="docutils literal notranslate"><span class="pre">(key,</span> <span class="pre">value)</span></code> tuples
or <cite>None</cite>.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.MultiDict.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mapping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#MultiDict.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.MultiDict.__init__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.MultiDict.__getstate__">
<span class="sig-name descname"><span class="pre">__getstate__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#MultiDict.__getstate__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.MultiDict.__getstate__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.MultiDict.__setstate__">
<span class="sig-name descname"><span class="pre">__setstate__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#MultiDict.__setstate__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.MultiDict.__setstate__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.MultiDict.__getitem__">
<span class="sig-name descname"><span class="pre">__getitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#MultiDict.__getitem__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.MultiDict.__getitem__" title="永久链接至目标"></a></dt>
<dd><p>Return the first data value for this key;
raises KeyError if not found.</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><p><strong>key</strong> – The key to be looked up.</p>
</dd>
<dt class="field-even">引发</dt>
<dd class="field-even"><p><strong>KeyError</strong> – if the key does not exist.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.MultiDict.__setitem__">
<span class="sig-name descname"><span class="pre">__setitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#MultiDict.__setitem__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.MultiDict.__setitem__" title="永久链接至目标"></a></dt>
<dd><p>Like <a class="reference internal" href="#envlib.env.datastructures.MultiDict.add" title="envlib.env.datastructures.MultiDict.add"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add()</span></code></a> but removes an existing key first.</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – the key for the value.</p></li>
<li><p><strong>value</strong> – the value to set.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.MultiDict.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#MultiDict.add"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.MultiDict.add" title="永久链接至目标"></a></dt>
<dd><p>Adds a new value for the key.</p>
<div class="versionadded">
<p><span class="versionmodified added">0.6 新版功能.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – the key for the value.</p></li>
<li><p><strong>value</strong> – the value to add.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.MultiDict.getlist">
<span class="sig-name descname"><span class="pre">getlist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#MultiDict.getlist"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.MultiDict.getlist" title="永久链接至目标"></a></dt>
<dd><p>Return the list of items for a given key. If that key is not in the
<cite>MultiDict</cite>, the return value will be an empty list.  Just as <cite>get</cite>
<cite>getlist</cite> accepts a <cite>type</cite> parameter.  All items will be converted
with the callable defined there.</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – The key to be looked up.</p></li>
<li><p><strong>type</strong> – A callable that is used to cast the value in the
<a class="reference internal" href="#envlib.env.datastructures.MultiDict" title="envlib.env.datastructures.MultiDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiDict</span></code></a>.  If a <code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code> is raised
by this callable the value will be removed from the list.</p></li>
</ul>
</dd>
<dt class="field-even">返回</dt>
<dd class="field-even"><p>a <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code> of all the values for the key.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.MultiDict.setlist">
<span class="sig-name descname"><span class="pre">setlist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#MultiDict.setlist"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.MultiDict.setlist" title="永久链接至目标"></a></dt>
<dd><p>Remove the old values for a key and add new ones.  Note that the list
you pass the values in will be shallow-copied before it is inserted in
the dictionary.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">MultiDict</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">setlist</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="p">[</span><span class="s1">&#39;foo&#39;</span><span class="p">]</span>
<span class="go">&#39;1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">getlist</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="go">[&#39;1&#39;, &#39;2&#39;]</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – The key for which the values are set.</p></li>
<li><p><strong>new_list</strong> – An iterable with the new values for the key.  Old values
are removed first.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.MultiDict.setdefault">
<span class="sig-name descname"><span class="pre">setdefault</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#MultiDict.setdefault"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.MultiDict.setdefault" title="永久链接至目标"></a></dt>
<dd><p>Returns the value for the key if it is in the dict, otherwise it
returns <cite>default</cite> and sets that value for <cite>key</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – The key to be looked up.</p></li>
<li><p><strong>default</strong> – The default value to be returned if the key is not
in the dict.  If not further specified it’s <cite>None</cite>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.MultiDict.setlistdefault">
<span class="sig-name descname"><span class="pre">setlistdefault</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#MultiDict.setlistdefault"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.MultiDict.setlistdefault" title="永久链接至目标"></a></dt>
<dd><p>Like <cite>setdefault</cite> but sets multiple values.  The list returned
is not a copy, but the list that is actually used internally.  This
means that you can put new values into the dict by appending items
to the list:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">MultiDict</span><span class="p">({</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">setlistdefault</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">getlist</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">)</span>
<span class="go">[1, 2, 3]</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – The key to be looked up.</p></li>
<li><p><strong>default_list</strong> – An iterable of default values.  It is either copied
(in case it was a list) or converted into a list
before returned.</p></li>
</ul>
</dd>
<dt class="field-even">返回</dt>
<dd class="field-even"><p>a <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.MultiDict.items">
<span class="sig-name descname"><span class="pre">items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">multi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#MultiDict.items"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.MultiDict.items" title="永久链接至目标"></a></dt>
<dd><p>Return an iterator of <code class="docutils literal notranslate"><span class="pre">(key,</span> <span class="pre">value)</span></code> pairs.</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><p><strong>multi</strong> – If set to <cite>True</cite> the iterator returned will have a pair
for each value of each key.  Otherwise it will only
contain pairs for the first value of each key.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.MultiDict.lists">
<span class="sig-name descname"><span class="pre">lists</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#MultiDict.lists"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.MultiDict.lists" title="永久链接至目标"></a></dt>
<dd><p>Return a iterator of <code class="docutils literal notranslate"><span class="pre">(key,</span> <span class="pre">values)</span></code> pairs, where values is the list
of all values associated with the key.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.MultiDict.keys">
<span class="sig-name descname"><span class="pre">keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">a</span> <span class="pre">set-like</span> <span class="pre">object</span> <span class="pre">providing</span> <span class="pre">a</span> <span class="pre">view</span> <span class="pre">on</span> <span class="pre">D's</span> <span class="pre">keys</span></span></span><a class="reference internal" href="_modules/envlib/env/datastructures.html#MultiDict.keys"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.MultiDict.keys" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.MultiDict.__iter__">
<span class="sig-name descname"><span class="pre">__iter__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.datastructures.MultiDict.__iter__" title="永久链接至目标"></a></dt>
<dd><p>Implement iter(self).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.MultiDict.values">
<span class="sig-name descname"><span class="pre">values</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#MultiDict.values"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.MultiDict.values" title="永久链接至目标"></a></dt>
<dd><p>Returns an iterator of the first value on every key’s value list.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.MultiDict.listvalues">
<span class="sig-name descname"><span class="pre">listvalues</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#MultiDict.listvalues"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.MultiDict.listvalues" title="永久链接至目标"></a></dt>
<dd><p>Return an iterator of all values associated with a key.  Zipping
<a class="reference internal" href="#envlib.env.datastructures.MultiDict.keys" title="envlib.env.datastructures.MultiDict.keys"><code class="xref py py-meth docutils literal notranslate"><span class="pre">keys()</span></code></a> and this is the same as calling <a class="reference internal" href="#envlib.env.datastructures.MultiDict.lists" title="envlib.env.datastructures.MultiDict.lists"><code class="xref py py-meth docutils literal notranslate"><span class="pre">lists()</span></code></a>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">MultiDict</span><span class="p">({</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">zip</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">keys</span><span class="p">(),</span> <span class="n">d</span><span class="o">.</span><span class="n">listvalues</span><span class="p">())</span> <span class="o">==</span> <span class="n">d</span><span class="o">.</span><span class="n">lists</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.MultiDict.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#MultiDict.copy"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.MultiDict.copy" title="永久链接至目标"></a></dt>
<dd><p>Return a shallow copy of this object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.MultiDict.deepcopy">
<span class="sig-name descname"><span class="pre">deepcopy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">memo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#MultiDict.deepcopy"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.MultiDict.deepcopy" title="永久链接至目标"></a></dt>
<dd><p>Return a deep copy of this object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.MultiDict.to_dict">
<span class="sig-name descname"><span class="pre">to_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#MultiDict.to_dict"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.MultiDict.to_dict" title="永久链接至目标"></a></dt>
<dd><p>Return the contents as regular dict.  If <cite>flat</cite> is <cite>True</cite> the
returned dict will only have the first item present, if <cite>flat</cite> is
<cite>False</cite> all values will be returned as lists.</p>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><p><strong>flat</strong> – If set to <cite>False</cite> the dict returned will have lists
with all the values in it.  Otherwise it will only
contain the first value for each key.</p>
</dd>
<dt class="field-even">返回</dt>
<dd class="field-even"><p>a <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.MultiDict.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#MultiDict.update"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.MultiDict.update" title="永久链接至目标"></a></dt>
<dd><p>update() extends rather than replaces existing key lists:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">MultiDict</span><span class="p">({</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">MultiDict</span><span class="p">({</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<span class="go">MultiDict([(&#39;y&#39;, 3), (&#39;x&#39;, 1), (&#39;x&#39;, 2)])</span>
</pre></div>
</div>
<p>If the value list for a key in <code class="docutils literal notranslate"><span class="pre">other_dict</span></code> is empty, no new values
will be added to the dict and the key will not be created:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;empty_list&#39;</span><span class="p">:</span> <span class="p">[]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">MultiDict</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span>
<span class="go">MultiDict([])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.MultiDict.pop">
<span class="sig-name descname"><span class="pre">pop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default=no</span> <span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#MultiDict.pop"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.MultiDict.pop" title="永久链接至目标"></a></dt>
<dd><p>Pop the first item for a list on the dict.  Afterwards the
key is removed from the dict, so additional values are discarded:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">MultiDict</span><span class="p">({</span><span class="s2">&quot;foo&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s2">&quot;foo&quot;</span> <span class="ow">in</span> <span class="n">d</span>
<span class="go">False</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – the key to pop.</p></li>
<li><p><strong>default</strong> – if provided the value to return if the key was
not in the dictionary.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.MultiDict.popitem">
<span class="sig-name descname"><span class="pre">popitem</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#MultiDict.popitem"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.MultiDict.popitem" title="永久链接至目标"></a></dt>
<dd><p>Pop an item from the dict.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.MultiDict.poplist">
<span class="sig-name descname"><span class="pre">poplist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#MultiDict.poplist"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.MultiDict.poplist" title="永久链接至目标"></a></dt>
<dd><p>Pop the list for a key from the dict.  If the key is not in the dict
an empty list is returned.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">在 0.5 版更改: </span>If the key does no longer exist a list is returned instead of
raising an error.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.MultiDict.popitemlist">
<span class="sig-name descname"><span class="pre">popitemlist</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#MultiDict.popitemlist"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.MultiDict.popitemlist" title="永久链接至目标"></a></dt>
<dd><p>Pop a <code class="docutils literal notranslate"><span class="pre">(key,</span> <span class="pre">list)</span></code> tuple from the dict.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.MultiDict.__copy__">
<span class="sig-name descname"><span class="pre">__copy__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#MultiDict.__copy__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.MultiDict.__copy__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.MultiDict.__deepcopy__">
<span class="sig-name descname"><span class="pre">__deepcopy__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">memo</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#MultiDict.__deepcopy__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.MultiDict.__deepcopy__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.MultiDict.__repr__">
<span class="sig-name descname"><span class="pre">__repr__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#MultiDict.__repr__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.MultiDict.__repr__" title="永久链接至目标"></a></dt>
<dd><p>Return repr(self).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.datastructures.MultiDict.__module__">
<span class="sig-name descname"><span class="pre">__module__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'envlib.env.datastructures'</span></em><a class="headerlink" href="#envlib.env.datastructures.MultiDict.__module__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="envlib.env.datastructures.ImmutableDictMixin">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">envlib.env.datastructures.</span></span><span class="sig-name descname"><span class="pre">ImmutableDictMixin</span></span><a class="reference internal" href="_modules/envlib/env/datastructures.html#ImmutableDictMixin"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.ImmutableDictMixin" title="永久链接至目标"></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Makes a <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code> immutable.</p>
<div class="versionadded">
<p><span class="versionmodified added">0.5 新版功能.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Private</dt>
<dd class="field-odd"><p></p></dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.ImmutableDictMixin.__reduce_ex__">
<span class="sig-name descname"><span class="pre">__reduce_ex__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">protocol</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#ImmutableDictMixin.__reduce_ex__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.ImmutableDictMixin.__reduce_ex__" title="永久链接至目标"></a></dt>
<dd><p>Helper for pickle.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.ImmutableDictMixin.setdefault">
<span class="sig-name descname"><span class="pre">setdefault</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#ImmutableDictMixin.setdefault"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.ImmutableDictMixin.setdefault" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.ImmutableDictMixin.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#ImmutableDictMixin.update"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.ImmutableDictMixin.update" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.ImmutableDictMixin.pop">
<span class="sig-name descname"><span class="pre">pop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#ImmutableDictMixin.pop"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.ImmutableDictMixin.pop" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.ImmutableDictMixin.popitem">
<span class="sig-name descname"><span class="pre">popitem</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#ImmutableDictMixin.popitem"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.ImmutableDictMixin.popitem" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.ImmutableDictMixin.__setitem__">
<span class="sig-name descname"><span class="pre">__setitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#ImmutableDictMixin.__setitem__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.ImmutableDictMixin.__setitem__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.ImmutableDictMixin.__delitem__">
<span class="sig-name descname"><span class="pre">__delitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#ImmutableDictMixin.__delitem__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.ImmutableDictMixin.__delitem__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.ImmutableDictMixin.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#ImmutableDictMixin.clear"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.ImmutableDictMixin.clear" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.datastructures.ImmutableDictMixin.__module__">
<span class="sig-name descname"><span class="pre">__module__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'envlib.env.datastructures'</span></em><a class="headerlink" href="#envlib.env.datastructures.ImmutableDictMixin.__module__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.datastructures.ImmutableDictMixin.__weakref__">
<span class="sig-name descname"><span class="pre">__weakref__</span></span><a class="headerlink" href="#envlib.env.datastructures.ImmutableDictMixin.__weakref__" title="永久链接至目标"></a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="envlib.env.datastructures.ImmutableDict">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">envlib.env.datastructures.</span></span><span class="sig-name descname"><span class="pre">ImmutableDict</span></span><a class="reference internal" href="_modules/envlib/env/datastructures.html#ImmutableDict"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.ImmutableDict" title="永久链接至目标"></a></dt>
<dd><p>基类：<a class="reference internal" href="#envlib.env.datastructures.ImmutableDictMixin" title="envlib.env.datastructures.ImmutableDictMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">envlib.env.datastructures.ImmutableDictMixin</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>An immutable <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified added">0.5 新版功能.</span></p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.ImmutableDict.__repr__">
<span class="sig-name descname"><span class="pre">__repr__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.datastructures.ImmutableDict.__repr__" title="永久链接至目标"></a></dt>
<dd><p>Return repr(self).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.ImmutableDict.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#ImmutableDict.copy"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.ImmutableDict.copy" title="永久链接至目标"></a></dt>
<dd><p>Return a shallow mutable copy of this object.  Keep in mind that
the standard library’s <a class="reference internal" href="#envlib.env.datastructures.ImmutableDict.copy" title="envlib.env.datastructures.ImmutableDict.copy"><code class="xref py py-func docutils literal notranslate"><span class="pre">copy()</span></code></a> function is a no-op for this class
like for any other python immutable type (eg: <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.datastructures.ImmutableDict.__copy__">
<span class="sig-name descname"><span class="pre">__copy__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/datastructures.html#ImmutableDict.__copy__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.datastructures.ImmutableDict.__copy__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.datastructures.ImmutableDict.__module__">
<span class="sig-name descname"><span class="pre">__module__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'envlib.env.datastructures'</span></em><a class="headerlink" href="#envlib.env.datastructures.ImmutableDict.__module__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.datastructures.ImmutableDict.__weakref__">
<span class="sig-name descname"><span class="pre">__weakref__</span></span><a class="headerlink" href="#envlib.env.datastructures.ImmutableDict.__weakref__" title="永久链接至目标"></a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="module-envlib.env.envlogging">
<span id="envlib-env-envlogging-module"></span><h2>envlib.env.envlogging module<a class="headerlink" href="#module-envlib.env.envlogging" title="永久链接至标题"></a></h2>
<p>统一logging模块</p>
<dl class="py class">
<dt class="sig sig-object py" id="envlib.env.envlogging.AllureLogger">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">envlib.env.envlogging.</span></span><span class="sig-name descname"><span class="pre">AllureLogger</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/envlogging.html#AllureLogger"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.envlogging.AllureLogger" title="永久链接至目标"></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">logging.Handler</span></code></p>
<p>allure日志模块</p>
<p>引自 <a class="reference external" href="https://stackoverflow.com/questions/65380164/pytest-best-practices-for-logging-using-allure">https://stackoverflow.com/questions/65380164/pytest-best-practices-for-logging-using-allure</a></p>
<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.envlogging.AllureLogger.emit">
<span class="sig-name descname"><span class="pre">emit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">record</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/envlogging.html#AllureLogger.emit"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.envlogging.AllureLogger.emit" title="永久链接至目标"></a></dt>
<dd><p>Do whatever it takes to actually log the specified logging record.</p>
<p>This version is intended to be implemented by subclasses and so
raises a NotImplementedError.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.envlogging.AllureLogger.__module__">
<span class="sig-name descname"><span class="pre">__module__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'envlib.env.envlogging'</span></em><a class="headerlink" href="#envlib.env.envlogging.AllureLogger.__module__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-envlib.env.exceptions">
<span id="envlib-env-exceptions-module"></span><h2>envlib.env.exceptions module<a class="headerlink" href="#module-envlib.env.exceptions" title="永久链接至标题"></a></h2>
<p>统一异常类定义</p>
<dl class="py exception">
<dt class="sig sig-object py" id="envlib.env.exceptions.BadRequest">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">envlib.env.exceptions.</span></span><span class="sig-name descname"><span class="pre">BadRequest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">response</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/exceptions.html#BadRequest"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.exceptions.BadRequest" title="永久链接至目标"></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p><em>400</em> <cite>Bad Request</cite></p>
<p>Raise if the browser sends something to the application the application
or server cannot handle.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.exceptions.BadRequest.code">
<span class="sig-name descname"><span class="pre">code</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">400</span></em><a class="headerlink" href="#envlib.env.exceptions.BadRequest.code" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.exceptions.BadRequest.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">response</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/exceptions.html#BadRequest.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.exceptions.BadRequest.__init__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.exceptions.BadRequest.description">
<span class="sig-name descname"><span class="pre">description</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'The</span> <span class="pre">browser</span> <span class="pre">(or</span> <span class="pre">proxy)</span> <span class="pre">sent</span> <span class="pre">a</span> <span class="pre">request</span> <span class="pre">that</span> <span class="pre">this</span> <span class="pre">server</span> <span class="pre">could</span> <span class="pre">not</span> <span class="pre">understand.'</span></em><a class="headerlink" href="#envlib.env.exceptions.BadRequest.description" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.exceptions.BadRequest.wrap">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">wrap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exception</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/exceptions.html#BadRequest.wrap"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.exceptions.BadRequest.wrap" title="永久链接至目标"></a></dt>
<dd><p>Create an exception that is a subclass of the calling HTTP
exception and the <code class="docutils literal notranslate"><span class="pre">exception</span></code> argument.</p>
<p>The first argument to the class will be passed to the
wrapped <code class="docutils literal notranslate"><span class="pre">exception</span></code>, the rest to the HTTP exception. If
<code class="docutils literal notranslate"><span class="pre">e.args</span></code> is not empty and <code class="docutils literal notranslate"><span class="pre">e.show_exception</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>,
the wrapped exception message is added to the HTTP error
description.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">在 0.15.5 版更改: </span>The <code class="docutils literal notranslate"><span class="pre">show_exception</span></code> attribute controls whether the
description includes the wrapped exception message.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 0.15.0 版更改: </span>The description includes the wrapped exception message.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.exceptions.BadRequest.__module__">
<span class="sig-name descname"><span class="pre">__module__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'envlib.env.exceptions'</span></em><a class="headerlink" href="#envlib.env.exceptions.BadRequest.__module__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.exceptions.BadRequest.__weakref__">
<span class="sig-name descname"><span class="pre">__weakref__</span></span><a class="headerlink" href="#envlib.env.exceptions.BadRequest.__weakref__" title="永久链接至目标"></a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="envlib.env.exceptions.BadRequestKeyError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">envlib.env.exceptions.</span></span><span class="sig-name descname"><span class="pre">BadRequestKeyError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.exceptions.BadRequestKeyError" title="永久链接至目标"></a></dt>
<dd><p>基类：<a class="reference internal" href="#envlib.env.exceptions.BadRequest" title="envlib.env.exceptions.BadRequest"><code class="xref py py-class docutils literal notranslate"><span class="pre">envlib.env.exceptions.BadRequest</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">KeyError</span></code></p>
<p>An exception that is used to signal both a <code class="xref py py-exc docutils literal notranslate"><span class="pre">KeyError</span></code> and a
<a class="reference internal" href="#envlib.env.exceptions.BadRequest" title="envlib.env.exceptions.BadRequest"><code class="xref py py-exc docutils literal notranslate"><span class="pre">BadRequest</span></code></a>. Used by many of the datastructures.</p>
<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.exceptions.BadRequestKeyError.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.exceptions.BadRequestKeyError.__init__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.exceptions.BadRequestKeyError.__module__">
<span class="sig-name descname"><span class="pre">__module__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'envlib.env.exceptions'</span></em><a class="headerlink" href="#envlib.env.exceptions.BadRequestKeyError.__module__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.exceptions.BadRequestKeyError._description">
<span class="sig-name descname"><span class="pre">_description</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'The</span> <span class="pre">browser</span> <span class="pre">(or</span> <span class="pre">proxy)</span> <span class="pre">sent</span> <span class="pre">a</span> <span class="pre">request</span> <span class="pre">that</span> <span class="pre">this</span> <span class="pre">server</span> <span class="pre">could</span> <span class="pre">not</span> <span class="pre">understand.'</span></em><a class="headerlink" href="#envlib.env.exceptions.BadRequestKeyError._description" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="envlib.env.exceptions.BadRequestKeyError.description">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">description</span></span><a class="headerlink" href="#envlib.env.exceptions.BadRequestKeyError.description" title="永久链接至目标"></a></dt>
<dd><p>str(object=’’) -&gt; str
str(bytes_or_buffer[, encoding[, errors]]) -&gt; str</p>
<p>Create a new string object from the given object. If encoding or
errors is specified, then the object must expose a data buffer
that will be decoded using the given encoding and error handler.
Otherwise, returns the result of object.__str__() (if defined)
or repr(object).
encoding defaults to sys.getdefaultencoding().
errors defaults to ‘strict’.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.exceptions.BadRequestKeyError.show_exception">
<span class="sig-name descname"><span class="pre">show_exception</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#envlib.env.exceptions.BadRequestKeyError.show_exception" title="永久链接至目标"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-envlib.env.globals">
<span id="envlib-env-globals-module"></span><h2>envlib.env.globals module<a class="headerlink" href="#module-envlib.env.globals" title="永久链接至标题"></a></h2>
<p>定义全局变量代理到当前激活的上下文环境</p>
<p><code class="docutils literal notranslate"><span class="pre">ctx_stack</span></code>: Env运行的堆栈</p>
<p><code class="docutils literal notranslate"><span class="pre">current_app</span></code>: 代理到当前运行的Env实例</p>
<p><code class="docutils literal notranslate"><span class="pre">g</span></code>: 代理到当前运行的Env实例关联的上下文环境信息AppCtxGlobals实例，支持getk来extracting快捷提取所需字段, 详见ExtractingMixin类说明</p>
<p><code class="docutils literal notranslate"><span class="pre">env_pools</span></code>: 基于import实现单例Rest实例池</p>
<dl class="py function">
<dt class="sig sig-object py" id="envlib.env.globals._lookup_app_object">
<span class="sig-prename descclassname"><span class="pre">envlib.env.globals.</span></span><span class="sig-name descname"><span class="pre">_lookup_app_object</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/globals.html#_lookup_app_object"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.globals._lookup_app_object" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="envlib.env.globals._find_app">
<span class="sig-prename descclassname"><span class="pre">envlib.env.globals.</span></span><span class="sig-name descname"><span class="pre">_find_app</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/globals.html#_find_app"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.globals._find_app" title="永久链接至目标"></a></dt>
<dd></dd></dl>

</section>
<section id="module-envlib.env.helpers">
<span id="envlib-env-helpers-module"></span><h2>envlib.env.helpers module<a class="headerlink" href="#module-envlib.env.helpers" title="永久链接至标题"></a></h2>
<p>一此实用的工具Mixin类</p>
<dl class="py class">
<dt class="sig sig-object py" id="envlib.env.helpers.HelpersMixin">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">envlib.env.helpers.</span></span><span class="sig-name descname"><span class="pre">HelpersMixin</span></span><a class="reference internal" href="_modules/envlib/env/helpers.html#HelpersMixin"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.helpers.HelpersMixin" title="永久链接至目标"></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Helpers mixin.  For internal use only.</p>
<p>参考assertpy.helpers
为类 mixin一些检查方法</p>
<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.helpers.HelpersMixin._check_dict_like">
<span class="sig-name descname"><span class="pre">_check_dict_like</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_values</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_getitem</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'val'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_as_bool</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/helpers.html#HelpersMixin._check_dict_like"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.helpers.HelpersMixin._check_dict_like" title="永久链接至目标"></a></dt>
<dd><p>Helper to check if given val has various dict-like attributes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.helpers.HelpersMixin._check_iterable">
<span class="sig-name descname"><span class="pre">_check_iterable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">l</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_getitem</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'val'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/helpers.html#HelpersMixin._check_iterable"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.helpers.HelpersMixin._check_iterable" title="永久链接至目标"></a></dt>
<dd><p>Helper to check if given val has various iterable attributes.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.helpers.HelpersMixin.__module__">
<span class="sig-name descname"><span class="pre">__module__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'envlib.env.helpers'</span></em><a class="headerlink" href="#envlib.env.helpers.HelpersMixin.__module__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.helpers.HelpersMixin.__weakref__">
<span class="sig-name descname"><span class="pre">__weakref__</span></span><a class="headerlink" href="#envlib.env.helpers.HelpersMixin.__weakref__" title="永久链接至目标"></a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="envlib.env.helpers.ExtractingMixin">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">envlib.env.helpers.</span></span><span class="sig-name descname"><span class="pre">ExtractingMixin</span></span><a class="reference internal" href="_modules/envlib/env/helpers.html#ExtractingMixin"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.helpers.ExtractingMixin" title="永久链接至目标"></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Collection flattening mixin</p>
<p>参考assertpy.extracting
当前接口返回的数据json千奇百怪, 对json的处理通常会使用字典或列表的一些操作, 并结合一些
map/reduce/lambda等来提取，再作为功能或端到端自动化接口的入参,重复单调！
这里借鉴assertpy的思路，来针对性地处理保存在 class: <code class="docutils literal notranslate"><span class="pre">TagCtxGlobals</span></code> 中复杂的json,
如嵌套字典和字典列表等，提供了一个统一的 <code class="docutils literal notranslate"><span class="pre">extracting()</span></code> 方法</p>
<div class="admonition tip">
<p class="admonition-title">小技巧</p>
<p>假设示例均保存在当前运行的Env实例关联的上下文环境信息AppCtxGlobals实例的代理 <code class="docutils literal notranslate"><span class="pre">g</span></code> 下</p>
</div>
<p><strong>extracting</strong></p>
<ol class="arabic">
<li><p><code class="docutils literal notranslate"><span class="pre">extracting()</span></code> 的值为非可迭代对象，非列表、元组、字符串、字典等，直接返回:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">users</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;item&#39;</span><span class="p">:</span> <span class="n">not_Iterable_obj</span> <span class="p">}</span>

<span class="n">g</span><span class="o">.</span><span class="n">getk</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">extracting</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">)</span>

<span class="n">Returns</span><span class="p">:</span> <span class="n">not_Iterable_obj</span>
</pre></div>
</div>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">extracting()</span></code> 值是字符串，直接返回:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">users</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;item&#39;</span><span class="p">:</span> <span class="nb">str</span> <span class="p">}</span>

<span class="n">g</span><span class="o">.</span><span class="n">getk</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">extracting</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">)</span>

<span class="n">Returns</span><span class="p">:</span> <span class="nb">str</span>
</pre></div>
</div>
</li>
</ol>
<p>3)如果 <code class="docutils literal notranslate"><span class="pre">extracting()</span></code> 值是字典，查names，递归查找后返回list:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">json_nested_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;208_1.1.1.1_SDK&quot;</span><span class="p">,</span>
    <span class="s2">&quot;ape_id&quot;</span><span class="p">:</span> <span class="s2">&quot;50010000001181000003&quot;</span><span class="p">,</span>
    <span class="s2">&quot;org_name&quot;</span><span class="p">:</span> <span class="s2">&quot;illegal_system&quot;</span><span class="p">,</span>
    <span class="s2">&quot;org_index&quot;</span><span class="p">:</span> <span class="s2">&quot;50010000002160000006&quot;</span><span class="p">,</span>
    <span class="s2">&quot;channel_list&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">&quot;ape_id&quot;</span><span class="p">:</span> <span class="s2">&quot;50010000001311000021&quot;</span><span class="p">,</span>
      <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;208_1.1.1.1_SDK_通道_1&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;ape_id&quot;</span><span class="p">:</span> <span class="s2">&quot;50010000001311000022&quot;</span><span class="p">,</span>
      <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;208_1.1.1.1_SDK_通道_2&quot;</span>
    <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>

<span class="n">g</span><span class="o">.</span><span class="n">getk</span><span class="p">(</span><span class="s1">&#39;json_nested_dict&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">extracting</span><span class="p">(</span><span class="s1">&#39;ape_id&#39;</span><span class="p">)</span>

<span class="n">Returns</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;50010000001181000003&quot;</span><span class="p">,</span> <span class="s2">&quot;208_1.1.1.1_SDK_通道_1&quot;</span><span class="p">,</span> <span class="s2">&quot;208_1.1.1.1_SDK_通道_2&quot;</span><span class="p">]</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>关键字{names}数量 不等于 提取值{extracted}数量, 会有 <cite>critical</cite> 提醒</p>
</div>
<p>4)如果 <code class="docutils literal notranslate"><span class="pre">extracting()</span></code> 值是单层元组，直接返回:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">users</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;item&#39;</span><span class="p">:</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">)</span> <span class="p">}</span>

<span class="n">g</span><span class="o">.</span><span class="n">getk</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">extracting</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">)</span>

<span class="n">Returns</span><span class="p">:</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">)</span>
</pre></div>
</div>
<p>5)如果 <code class="docutils literal notranslate"><span class="pre">extracting()</span></code> 值是list of dicts [{},{},{}],将批量提取:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">users</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span><span class="s1">&#39;user&#39;</span><span class="p">:</span> <span class="s1">&#39;Alice&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="mi">36</span><span class="p">,</span> <span class="s1">&#39;active&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
    <span class="p">{</span><span class="s1">&#39;user&#39;</span><span class="p">:</span> <span class="s1">&#39;Bob&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="mi">40</span><span class="p">,</span> <span class="s1">&#39;active&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
    <span class="p">{</span><span class="s1">&#39;user&#39;</span><span class="p">:</span> <span class="s1">&#39;Charlie&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="mi">13</span><span class="p">,</span> <span class="s1">&#39;active&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">g</span><span class="o">.</span><span class="n">getk</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">extracting</span><span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">)</span>

<span class="n">Returns</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Alice&#39;</span><span class="p">,</span> <span class="s1">&#39;Bob&#39;</span><span class="p">,</span> <span class="s1">&#39;Charlie&#39;</span><span class="p">]</span>

<span class="n">g</span><span class="o">.</span><span class="n">getk</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">extracting</span><span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">,</span><span class="s1">&#39;age&#39;</span><span class="p">)</span>

<span class="n">Returns</span><span class="p">:</span> <span class="p">[(</span><span class="s1">&#39;Alice&#39;</span><span class="p">,</span><span class="mi">36</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;Bob&#39;</span><span class="p">,</span><span class="mi">40</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;Charlie&#39;</span><span class="p">,</span><span class="mi">13</span><span class="p">)]</span>
</pre></div>
</div>
<p><strong>Filtering</strong></p>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p><em>filter</em> 仅在所提取对象是 形如 <code class="docutils literal notranslate"><span class="pre">list</span> <span class="pre">of</span> <span class="pre">dicts</span></code> 生效</p>
</div>
<p><code class="docutils literal notranslate"><span class="pre">extracting()</span></code> 方法可以接受 <em>filter</em> 来过滤并提取*filter*的条件为true时的items</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">users</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span><span class="s1">&#39;user&#39;</span><span class="p">:</span> <span class="s1">&#39;Alice&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="mi">36</span><span class="p">,</span> <span class="s1">&#39;active&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
    <span class="p">{</span><span class="s1">&#39;user&#39;</span><span class="p">:</span> <span class="s1">&#39;Bob&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="mi">40</span><span class="p">,</span> <span class="s1">&#39;active&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
    <span class="p">{</span><span class="s1">&#39;user&#39;</span><span class="p">:</span> <span class="s1">&#39;Charlie&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="mi">13</span><span class="p">,</span> <span class="s1">&#39;active&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span>
<span class="p">]</span>

<span class="c1"># filter the active users</span>
<span class="n">g</span><span class="o">.</span><span class="n">getk</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">extracting</span><span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="nb">filter</span><span class="o">=</span><span class="s1">&#39;active&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><em>filter</em> 也可以接受一个/一组 <em>dict-like</em> 对象, 过滤并提取*filter*与相应的key-value pairs相等的items:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">g</span><span class="o">.</span><span class="n">getk</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">extracting</span><span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="nb">filter</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;active&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">})</span>
<span class="n">g</span><span class="o">.</span><span class="n">getk</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">extracting</span><span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="nb">filter</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="mi">36</span><span class="p">,</span> <span class="s1">&#39;active&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">})</span>
</pre></div>
</div>
<p><em>filter</em> 还可以接受function (including an in-line <code class="docutils literal notranslate"><span class="pre">lambda</span></code>) that accepts as its single
argument each item in the collection, and the extracted items are kept if the function
evaluates to <code class="docutils literal notranslate"><span class="pre">True</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">g</span><span class="o">.</span><span class="n">getk</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">extracting</span><span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="nb">filter</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.helpers.ExtractingMixin.extracting">
<span class="sig-name descname"><span class="pre">extracting</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">names</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/helpers.html#ExtractingMixin.extracting"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.helpers.ExtractingMixin.extracting" title="永久链接至目标"></a></dt>
<dd><p>提取元素，类似assertpy，支持元素及filter</p>
<dl class="field-list simple">
<dt class="field-odd">Author</dt>
<dd class="field-odd"><p>sean</p>
</dd>
<dt class="field-even">Created</dt>
<dd class="field-even"><p>2021/2/3 20:31</p>
</dd>
<dt class="field-odd">参数</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>*names</strong> – the attribute to be extracted (or property or zero-arg method)</p></li>
<li><p><strong>**kwargs</strong> – see below</p></li>
</ul>
</dd>
<dt class="field-even">关键字参数</dt>
<dd class="field-even"><p><strong>filter</strong> – extract only those items where filter is truthy</p>
</dd>
</dl>
<div class="admonition tip">
<p class="admonition-title">小技巧</p>
<p>假设示例均保存在 <code class="docutils literal notranslate"><span class="pre">common</span></code> 的tag下</p>
</div>
<p class="rubric">示例</p>
<ol class="arabic">
<li><p><code class="docutils literal notranslate"><span class="pre">extracting()</span></code> 的值为非可迭代对象（如非列表、非元组、非字符串、非字典），或字符串，或单层元组，直接返回:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">g</span><span class="o">.</span><span class="n">getk</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">extracting</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ol>
<p>2)如果 <code class="docutils literal notranslate"><span class="pre">extracting()</span></code> 值是字典，查names，递归查找后返回list:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">json_nested_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;208_1.1.1.1_SDK&quot;</span><span class="p">,</span>
    <span class="s2">&quot;ape_id&quot;</span><span class="p">:</span> <span class="s2">&quot;50010000001181000003&quot;</span><span class="p">,</span>
    <span class="s2">&quot;org_name&quot;</span><span class="p">:</span> <span class="s2">&quot;illegal_system&quot;</span><span class="p">,</span>
    <span class="s2">&quot;org_index&quot;</span><span class="p">:</span> <span class="s2">&quot;50010000002160000006&quot;</span><span class="p">,</span>
    <span class="s2">&quot;channel_list&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">&quot;ape_id&quot;</span><span class="p">:</span> <span class="s2">&quot;50010000001311000021&quot;</span><span class="p">,</span>
      <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;208_1.1.1.1_SDK_通道_1&quot;</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">&quot;ape_id&quot;</span><span class="p">:</span> <span class="s2">&quot;50010000001311000022&quot;</span><span class="p">,</span>
      <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;208_1.1.1.1_SDK_通道_2&quot;</span>
    <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>

<span class="n">g</span><span class="o">.</span><span class="n">getk</span><span class="p">(</span><span class="s1">&#39;json_nested_dict&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">extracting</span><span class="p">(</span><span class="s1">&#39;ape_id&#39;</span><span class="p">)</span>

<span class="n">Returns</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;50010000001181000003&quot;</span><span class="p">,</span> <span class="s2">&quot;208_1.1.1.1_SDK_通道_1&quot;</span><span class="p">,</span> <span class="s2">&quot;208_1.1.1.1_SDK_通道_2&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>关键字{names}数量 不等于 提取值{extracted}数量, 会有 <code class="docutils literal notranslate"><span class="pre">critical</span></code> 提醒</p>
<p>3)如果 <code class="docutils literal notranslate"><span class="pre">extracting()</span></code> 值是list of dicts <code class="docutils literal notranslate"><span class="pre">[{},</span> <span class="pre">{},</span> <span class="pre">{}]</span></code> ,将批量提取:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">users</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span><span class="s1">&#39;user&#39;</span><span class="p">:</span> <span class="s1">&#39;Alice&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="mi">36</span><span class="p">,</span> <span class="s1">&#39;active&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">},</span>
    <span class="p">{</span><span class="s1">&#39;user&#39;</span><span class="p">:</span> <span class="s1">&#39;Bob&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="mi">40</span><span class="p">,</span> <span class="s1">&#39;active&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">},</span>
    <span class="p">{</span><span class="s1">&#39;user&#39;</span><span class="p">:</span> <span class="s1">&#39;Charlie&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="mi">13</span><span class="p">,</span> <span class="s1">&#39;active&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">g</span><span class="o">.</span><span class="n">getk</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">extracting</span><span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">)</span>

<span class="n">g</span><span class="o">.</span><span class="n">getk</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">extracting</span><span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">,</span><span class="s1">&#39;age&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Filter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">g</span><span class="o">.</span><span class="n">getk</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">extracting</span><span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="nb">filter</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;active&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">})</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">返回</dt>
<dd class="field-odd"><p>a list of values</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.helpers.ExtractingMixin.__module__">
<span class="sig-name descname"><span class="pre">__module__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'envlib.env.helpers'</span></em><a class="headerlink" href="#envlib.env.helpers.ExtractingMixin.__module__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.helpers.ExtractingMixin.__weakref__">
<span class="sig-name descname"><span class="pre">__weakref__</span></span><a class="headerlink" href="#envlib.env.helpers.ExtractingMixin.__weakref__" title="永久链接至目标"></a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="envlib.env.helpers.GetKeysMixin">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">envlib.env.helpers.</span></span><span class="sig-name descname"><span class="pre">GetKeysMixin</span></span><a class="reference internal" href="_modules/envlib/env/helpers.html#GetKeysMixin"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.helpers.GetKeysMixin" title="永久链接至目标"></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>获取类的key列表</p>
<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.helpers.GetKeysMixin.get_keys">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_keys</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/helpers.html#GetKeysMixin.get_keys"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.helpers.GetKeysMixin.get_keys" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.helpers.GetKeysMixin.__module__">
<span class="sig-name descname"><span class="pre">__module__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'envlib.env.helpers'</span></em><a class="headerlink" href="#envlib.env.helpers.GetKeysMixin.__module__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.helpers.GetKeysMixin.__weakref__">
<span class="sig-name descname"><span class="pre">__weakref__</span></span><a class="headerlink" href="#envlib.env.helpers.GetKeysMixin.__weakref__" title="永久链接至目标"></a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-envlib.env.local">
<span id="envlib-env-local-module"></span><h2>envlib.env.local module<a class="headerlink" href="#module-envlib.env.local" title="永久链接至标题"></a></h2>
<section id="werkzeug-local">
<h3>werkzeug.local<a class="headerlink" href="#werkzeug-local" title="永久链接至标题"></a></h3>
<p>This module implements context-local objects.</p>
<dl class="field-list simple">
<dt class="field-odd">copyright</dt>
<dd class="field-odd"><p>2007 Pallets</p>
</dd>
<dt class="field-even">license</dt>
<dd class="field-even"><p>BSD-3-Clause</p>
</dd>
</dl>
<dl class="py function">
<dt class="sig sig-object py" id="envlib.env.local.release_local">
<span class="sig-prename descclassname"><span class="pre">envlib.env.local.</span></span><span class="sig-name descname"><span class="pre">release_local</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">local</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/local.html#release_local"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.local.release_local" title="永久链接至目标"></a></dt>
<dd><p>Releases the contents of the local for the current context.
This makes it possible to use locals without a manager.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">loc</span> <span class="o">=</span> <span class="n">Local</span><span class="p">()</span>
<span class="n">loc</span><span class="o">.</span><span class="n">foo</span> <span class="o">=</span> <span class="mi">42</span>
<span class="n">release_local</span><span class="p">(</span><span class="n">loc</span><span class="p">)</span>
<span class="nb">hasattr</span><span class="p">(</span><span class="n">loc</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>With this function one can release <a class="reference internal" href="#envlib.env.local.Local" title="envlib.env.local.Local"><code class="xref py py-class docutils literal notranslate"><span class="pre">Local</span></code></a> objects as well
as <a class="reference internal" href="#envlib.env.local.LocalStack" title="envlib.env.local.LocalStack"><code class="xref py py-class docutils literal notranslate"><span class="pre">LocalStack</span></code></a> objects.  However it is not possible to
release data held by proxies that way, one always has to retain
a reference to the underlying local object in order to be able
to release it.</p>
<div class="versionadded">
<p><span class="versionmodified added">0.6.1 新版功能.</span></p>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="envlib.env.local.Local">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">envlib.env.local.</span></span><span class="sig-name descname"><span class="pre">Local</span></span><a class="reference internal" href="_modules/envlib/env/local.html#Local"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.local.Local" title="永久链接至目标"></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.local.Local.__slots__">
<span class="sig-name descname"><span class="pre">__slots__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('storage',</span> <span class="pre">'__ident_func__')</span></em><a class="headerlink" href="#envlib.env.local.Local.__slots__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.Local.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/local.html#Local.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.local.Local.__init__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.Local.__iter__">
<span class="sig-name descname"><span class="pre">__iter__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/local.html#Local.__iter__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.local.Local.__iter__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.Local.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">proxy</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/local.html#Local.__call__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.local.Local.__call__" title="永久链接至目标"></a></dt>
<dd><p>Create a proxy for a name.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.Local.__release_local__">
<span class="sig-name descname"><span class="pre">__release_local__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/local.html#Local.__release_local__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.local.Local.__release_local__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.Local.__getattr__">
<span class="sig-name descname"><span class="pre">__getattr__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/local.html#Local.__getattr__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.local.Local.__getattr__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.Local.__setattr__">
<span class="sig-name descname"><span class="pre">__setattr__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/local.html#Local.__setattr__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.local.Local.__setattr__" title="永久链接至目标"></a></dt>
<dd><p>Implement setattr(self, name, value).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.Local.__delattr__">
<span class="sig-name descname"><span class="pre">__delattr__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/local.html#Local.__delattr__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.local.Local.__delattr__" title="永久链接至目标"></a></dt>
<dd><p>Implement delattr(self, name).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.local.Local.storage">
<span class="sig-name descname"><span class="pre">storage</span></span><a class="headerlink" href="#envlib.env.local.Local.storage" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.local.Local.__ident_func__">
<span class="sig-name descname"><span class="pre">__ident_func__</span></span><a class="headerlink" href="#envlib.env.local.Local.__ident_func__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.local.Local.__module__">
<span class="sig-name descname"><span class="pre">__module__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'envlib.env.local'</span></em><a class="headerlink" href="#envlib.env.local.Local.__module__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="envlib.env.local.LocalStack">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">envlib.env.local.</span></span><span class="sig-name descname"><span class="pre">LocalStack</span></span><a class="reference internal" href="_modules/envlib/env/local.html#LocalStack"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.local.LocalStack" title="永久链接至目标"></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class works similar to a <a class="reference internal" href="#envlib.env.local.Local" title="envlib.env.local.Local"><code class="xref py py-class docutils literal notranslate"><span class="pre">Local</span></code></a> but keeps a stack
of objects instead.  This is best explained with an example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ls</span> <span class="o">=</span> <span class="n">LocalStack</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ls</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ls</span><span class="o">.</span><span class="n">top</span>
<span class="go">42</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ls</span><span class="o">.</span><span class="n">push</span><span class="p">(</span><span class="mi">23</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ls</span><span class="o">.</span><span class="n">top</span>
<span class="go">23</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ls</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="go">23</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ls</span><span class="o">.</span><span class="n">top</span>
<span class="go">42</span>
</pre></div>
</div>
<p>They can be force released by using a <a class="reference internal" href="#envlib.env.local.LocalManager" title="envlib.env.local.LocalManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">LocalManager</span></code></a> or with
the <a class="reference internal" href="#envlib.env.local.release_local" title="envlib.env.local.release_local"><code class="xref py py-func docutils literal notranslate"><span class="pre">release_local()</span></code></a> function but the correct way is to pop the
item from the stack after using.  When the stack is empty it will
no longer be bound to the current context (and as such released).</p>
<p>By calling the stack without arguments it returns a proxy that resolves to
the topmost item on the stack.</p>
<div class="versionadded">
<p><span class="versionmodified added">0.6.1 新版功能.</span></p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalStack.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/local.html#LocalStack.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.local.LocalStack.__init__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalStack.__release_local__">
<span class="sig-name descname"><span class="pre">__release_local__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/local.html#LocalStack.__release_local__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.local.LocalStack.__release_local__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="envlib.env.local.LocalStack.__ident_func__">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">__ident_func__</span></span><a class="headerlink" href="#envlib.env.local.LocalStack.__ident_func__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalStack.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/local.html#LocalStack.__call__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.local.LocalStack.__call__" title="永久链接至目标"></a></dt>
<dd><p>Call self as a function.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalStack.push">
<span class="sig-name descname"><span class="pre">push</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/local.html#LocalStack.push"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.local.LocalStack.push" title="永久链接至目标"></a></dt>
<dd><p>Pushes a new item to the stack</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalStack.pop">
<span class="sig-name descname"><span class="pre">pop</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/local.html#LocalStack.pop"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.local.LocalStack.pop" title="永久链接至目标"></a></dt>
<dd><p>Removes the topmost item from the stack, will return the
old value or <cite>None</cite> if the stack was already empty.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="envlib.env.local.LocalStack.top">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">top</span></span><a class="headerlink" href="#envlib.env.local.LocalStack.top" title="永久链接至目标"></a></dt>
<dd><p>The topmost item on the stack.  If the stack is empty,
<cite>None</cite> is returned.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.local.LocalStack.__module__">
<span class="sig-name descname"><span class="pre">__module__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'envlib.env.local'</span></em><a class="headerlink" href="#envlib.env.local.LocalStack.__module__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.local.LocalStack.__weakref__">
<span class="sig-name descname"><span class="pre">__weakref__</span></span><a class="headerlink" href="#envlib.env.local.LocalStack.__weakref__" title="永久链接至目标"></a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="envlib.env.local.LocalManager">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">envlib.env.local.</span></span><span class="sig-name descname"><span class="pre">LocalManager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">locals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ident_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/local.html#LocalManager"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.local.LocalManager" title="永久链接至目标"></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Local objects cannot manage themselves. For that you need a local
manager.  You can pass a local manager multiple locals or add them later
by appending them to <cite>manager.locals</cite>.  Every time the manager cleans up,
it will clean up all the data left in the locals for this context.</p>
<p>The <cite>ident_func</cite> parameter can be added to override the default ident
function for the wrapped locals.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">在 0.6.1 版更改: </span>Instead of a manager the <a class="reference internal" href="#envlib.env.local.release_local" title="envlib.env.local.release_local"><code class="xref py py-func docutils literal notranslate"><span class="pre">release_local()</span></code></a> function can be used
as well.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 0.7 版更改: </span><cite>ident_func</cite> was added.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalManager.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">locals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ident_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/local.html#LocalManager.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.local.LocalManager.__init__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalManager.get_ident">
<span class="sig-name descname"><span class="pre">get_ident</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/local.html#LocalManager.get_ident"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.local.LocalManager.get_ident" title="永久链接至目标"></a></dt>
<dd><p>Return the context identifier the local objects use internally for
this context.  You cannot override this method to change the behavior
but use it to link other context local objects (such as SQLAlchemy’s
scoped sessions) to the Werkzeug locals.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">在 0.7 版更改: </span>You can pass a different ident function to the local manager that
will then be propagated to all the locals passed to the
constructor.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalManager.cleanup">
<span class="sig-name descname"><span class="pre">cleanup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/local.html#LocalManager.cleanup"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.local.LocalManager.cleanup" title="永久链接至目标"></a></dt>
<dd><p>Manually clean up the data in the locals for this context.  Call
this at the end of the request or use <cite>make_middleware()</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalManager.make_middleware">
<span class="sig-name descname"><span class="pre">make_middleware</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">app</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/local.html#LocalManager.make_middleware"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.local.LocalManager.make_middleware" title="永久链接至目标"></a></dt>
<dd><p>Wrap a WSGI application so that cleaning up happens after
request end.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalManager.middleware">
<span class="sig-name descname"><span class="pre">middleware</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/local.html#LocalManager.middleware"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.local.LocalManager.middleware" title="永久链接至目标"></a></dt>
<dd><p>Like <cite>make_middleware</cite> but for decorating functions.</p>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@manager</span><span class="o">.</span><span class="n">middleware</span>
<span class="k">def</span> <span class="nf">application</span><span class="p">(</span><span class="n">environ</span><span class="p">,</span> <span class="n">start_response</span><span class="p">):</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>The difference to <cite>make_middleware</cite> is that the function passed
will have all the arguments copied from the inner application
(name, docstring, module).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalManager.__repr__">
<span class="sig-name descname"><span class="pre">__repr__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/local.html#LocalManager.__repr__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.local.LocalManager.__repr__" title="永久链接至目标"></a></dt>
<dd><p>Return repr(self).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.local.LocalManager.__module__">
<span class="sig-name descname"><span class="pre">__module__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'envlib.env.local'</span></em><a class="headerlink" href="#envlib.env.local.LocalManager.__module__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.local.LocalManager.__weakref__">
<span class="sig-name descname"><span class="pre">__weakref__</span></span><a class="headerlink" href="#envlib.env.local.LocalManager.__weakref__" title="永久链接至目标"></a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">envlib.env.local.</span></span><span class="sig-name descname"><span class="pre">LocalProxy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">local</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/local.html#LocalProxy"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.local.LocalProxy" title="永久链接至目标"></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Acts as a proxy for a werkzeug local.  Forwards all operations to
a proxied object.  The only operations not supported for forwarding
are right handed operands and any kind of assignment.</p>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">werkzeug.local</span> <span class="kn">import</span> <span class="n">Local</span>
<span class="n">l</span> <span class="o">=</span> <span class="n">Local</span><span class="p">()</span>

<span class="c1"># these are proxies</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">l</span><span class="p">(</span><span class="s1">&#39;request&#39;</span><span class="p">)</span>
<span class="n">user</span> <span class="o">=</span> <span class="n">l</span><span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">)</span>


<span class="kn">from</span> <span class="nn">werkzeug.local</span> <span class="kn">import</span> <span class="n">LocalStack</span>
<span class="n">_response_local</span> <span class="o">=</span> <span class="n">LocalStack</span><span class="p">()</span>

<span class="c1"># this is a proxy</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">_response_local</span><span class="p">()</span>
</pre></div>
</div>
<p>Whenever something is bound to l.user / l.request the proxy objects
will forward all operations.  If no object is bound a <code class="xref py py-exc docutils literal notranslate"><span class="pre">RuntimeError</span></code>
will be raised.</p>
<p>To create proxies to <a class="reference internal" href="#envlib.env.local.Local" title="envlib.env.local.Local"><code class="xref py py-class docutils literal notranslate"><span class="pre">Local</span></code></a> or <a class="reference internal" href="#envlib.env.local.LocalStack" title="envlib.env.local.LocalStack"><code class="xref py py-class docutils literal notranslate"><span class="pre">LocalStack</span></code></a> objects,
call the object as shown above.  If you want to have a proxy to an
object looked up by a function, you can (as of Werkzeug 0.6.1) pass
a function to the <a class="reference internal" href="#envlib.env.local.LocalProxy" title="envlib.env.local.LocalProxy"><code class="xref py py-class docutils literal notranslate"><span class="pre">LocalProxy</span></code></a> constructor:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">session</span> <span class="o">=</span> <span class="n">LocalProxy</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="n">get_current_request</span><span class="p">()</span><span class="o">.</span><span class="n">session</span><span class="p">)</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">在 0.6.1 版更改: </span>The class can be instantiated with a callable as well now.</p>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__slots__">
<span class="sig-name descname"><span class="pre">__slots__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('local',</span> <span class="pre">'__dict__',</span> <span class="pre">'__name__',</span> <span class="pre">'__wrapped__')</span></em><a class="headerlink" href="#envlib.env.local.LocalProxy.__slots__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">local</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/local.html#LocalProxy.__init__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.local.LocalProxy.__init__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy._get_current_object">
<span class="sig-name descname"><span class="pre">_get_current_object</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/local.html#LocalProxy._get_current_object"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.local.LocalProxy._get_current_object" title="永久链接至目标"></a></dt>
<dd><p>Return the current object.  This is useful if you want the real
object behind the proxy at a time for performance reasons or because
you want to pass the object into a different context.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__repr__">
<span class="sig-name descname"><span class="pre">__repr__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/local.html#LocalProxy.__repr__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.local.LocalProxy.__repr__" title="永久链接至目标"></a></dt>
<dd><p>Return repr(self).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__bool__">
<span class="sig-name descname"><span class="pre">__bool__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/local.html#LocalProxy.__bool__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.local.LocalProxy.__bool__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__unicode__">
<span class="sig-name descname"><span class="pre">__unicode__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/local.html#LocalProxy.__unicode__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.local.LocalProxy.__unicode__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__dir__">
<span class="sig-name descname"><span class="pre">__dir__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/local.html#LocalProxy.__dir__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.local.LocalProxy.__dir__" title="永久链接至目标"></a></dt>
<dd><p>Default dir() implementation.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__getattr__">
<span class="sig-name descname"><span class="pre">__getattr__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/local.html#LocalProxy.__getattr__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.local.LocalProxy.__getattr__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__setitem__">
<span class="sig-name descname"><span class="pre">__setitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/local.html#LocalProxy.__setitem__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.local.LocalProxy.__setitem__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__delitem__">
<span class="sig-name descname"><span class="pre">__delitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/envlib/env/local.html#LocalProxy.__delitem__"><span class="viewcode-link"><span class="pre">[源代码]</span></span></a><a class="headerlink" href="#envlib.env.local.LocalProxy.__delitem__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__setattr__">
<span class="sig-name descname"><span class="pre">__setattr__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__setattr__" title="永久链接至目标"></a></dt>
<dd><p>Implement setattr(self, name, value).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__delattr__">
<span class="sig-name descname"><span class="pre">__delattr__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__delattr__" title="永久链接至目标"></a></dt>
<dd><p>Implement delattr(self, name).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__str__">
<span class="sig-name descname"><span class="pre">__str__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__str__" title="永久链接至目标"></a></dt>
<dd><p>Return str(self).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__lt__">
<span class="sig-name descname"><span class="pre">__lt__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__lt__" title="永久链接至目标"></a></dt>
<dd><p>Return self&lt;value.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__le__">
<span class="sig-name descname"><span class="pre">__le__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__le__" title="永久链接至目标"></a></dt>
<dd><p>Return self&lt;=value.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__eq__">
<span class="sig-name descname"><span class="pre">__eq__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__eq__" title="永久链接至目标"></a></dt>
<dd><p>Return self==value.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__ne__">
<span class="sig-name descname"><span class="pre">__ne__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__ne__" title="永久链接至目标"></a></dt>
<dd><p>Return self!=value.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__gt__">
<span class="sig-name descname"><span class="pre">__gt__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__gt__" title="永久链接至目标"></a></dt>
<dd><p>Return self&gt;value.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__ge__">
<span class="sig-name descname"><span class="pre">__ge__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__ge__" title="永久链接至目标"></a></dt>
<dd><p>Return self&gt;=value.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__cmp__">
<span class="sig-name descname"><span class="pre">__cmp__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__cmp__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__hash__">
<span class="sig-name descname"><span class="pre">__hash__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__hash__" title="永久链接至目标"></a></dt>
<dd><p>Return hash(self).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__call__" title="永久链接至目标"></a></dt>
<dd><p>Call self as a function.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__len__">
<span class="sig-name descname"><span class="pre">__len__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__len__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__getitem__">
<span class="sig-name descname"><span class="pre">__getitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__getitem__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__iter__">
<span class="sig-name descname"><span class="pre">__iter__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__iter__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__contains__">
<span class="sig-name descname"><span class="pre">__contains__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__contains__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__add__">
<span class="sig-name descname"><span class="pre">__add__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__add__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__sub__">
<span class="sig-name descname"><span class="pre">__sub__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__sub__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__mul__">
<span class="sig-name descname"><span class="pre">__mul__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__mul__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__floordiv__">
<span class="sig-name descname"><span class="pre">__floordiv__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__floordiv__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__mod__">
<span class="sig-name descname"><span class="pre">__mod__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__mod__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__divmod__">
<span class="sig-name descname"><span class="pre">__divmod__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__divmod__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__pow__">
<span class="sig-name descname"><span class="pre">__pow__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__pow__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__lshift__">
<span class="sig-name descname"><span class="pre">__lshift__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__lshift__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__rshift__">
<span class="sig-name descname"><span class="pre">__rshift__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__rshift__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__and__">
<span class="sig-name descname"><span class="pre">__and__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__and__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__xor__">
<span class="sig-name descname"><span class="pre">__xor__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__xor__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__or__">
<span class="sig-name descname"><span class="pre">__or__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__or__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__div__">
<span class="sig-name descname"><span class="pre">__div__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__div__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__truediv__">
<span class="sig-name descname"><span class="pre">__truediv__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__truediv__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__neg__">
<span class="sig-name descname"><span class="pre">__neg__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__neg__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__pos__">
<span class="sig-name descname"><span class="pre">__pos__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__pos__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__abs__">
<span class="sig-name descname"><span class="pre">__abs__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__abs__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__invert__">
<span class="sig-name descname"><span class="pre">__invert__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__invert__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__complex__">
<span class="sig-name descname"><span class="pre">__complex__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__complex__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__int__">
<span class="sig-name descname"><span class="pre">__int__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__int__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__long__">
<span class="sig-name descname"><span class="pre">__long__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__long__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__float__">
<span class="sig-name descname"><span class="pre">__float__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__float__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__oct__">
<span class="sig-name descname"><span class="pre">__oct__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__oct__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__hex__">
<span class="sig-name descname"><span class="pre">__hex__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__hex__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__index__">
<span class="sig-name descname"><span class="pre">__index__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__index__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__coerce__">
<span class="sig-name descname"><span class="pre">__coerce__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__coerce__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__enter__">
<span class="sig-name descname"><span class="pre">__enter__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__enter__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__exit__">
<span class="sig-name descname"><span class="pre">__exit__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__exit__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__radd__">
<span class="sig-name descname"><span class="pre">__radd__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__radd__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__rsub__">
<span class="sig-name descname"><span class="pre">__rsub__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__rsub__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__rmul__">
<span class="sig-name descname"><span class="pre">__rmul__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__rmul__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__rdiv__">
<span class="sig-name descname"><span class="pre">__rdiv__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__rdiv__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__rtruediv__">
<span class="sig-name descname"><span class="pre">__rtruediv__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__rtruediv__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.local">
<span class="sig-name descname"><span class="pre">local</span></span><a class="headerlink" href="#envlib.env.local.LocalProxy.local" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__name__">
<span class="sig-name descname"><span class="pre">__name__</span></span><a class="headerlink" href="#envlib.env.local.LocalProxy.__name__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__wrapped__">
<span class="sig-name descname"><span class="pre">__wrapped__</span></span><a class="headerlink" href="#envlib.env.local.LocalProxy.__wrapped__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__module__">
<span class="sig-name descname"><span class="pre">__module__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'envlib.env.local'</span></em><a class="headerlink" href="#envlib.env.local.LocalProxy.__module__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__rfloordiv__">
<span class="sig-name descname"><span class="pre">__rfloordiv__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__rfloordiv__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__rmod__">
<span class="sig-name descname"><span class="pre">__rmod__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__rmod__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__rdivmod__">
<span class="sig-name descname"><span class="pre">__rdivmod__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__rdivmod__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__copy__">
<span class="sig-name descname"><span class="pre">__copy__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__copy__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="envlib.env.local.LocalProxy.__deepcopy__">
<span class="sig-name descname"><span class="pre">__deepcopy__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">memo</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#envlib.env.local.LocalProxy.__deepcopy__" title="永久链接至目标"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
</section>
<section id="module-envlib.env">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-envlib.env" title="永久链接至标题"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="envlib.html" class="btn btn-neutral float-left" title="envlib package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="envlib.env_resources.html" class="btn btn-neutral float-right" title="envlib.env_resources package" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2021, sean.</p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用了 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a>开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>